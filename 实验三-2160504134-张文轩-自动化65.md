# 第三次实验 #

## 自动化65 张文轩 2160504134 实验3 ##

## 题目一 ##

**画直方图：**把附件图像的直方图画出；

1. **题目分析：**

直方图是分析图片的常用工具。对于本题，首先定义一个长度为256的零数组，然后遍历图片的索引矩阵，当读取到某点的像素值为x时 ，则将数组第x位置的数加一。遍历结束，得到的数组第x位置的值便是该图片x像素值出现的次数。

1. **实验结果：**

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131503.png" width=384 height=384/>
<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131852.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131527.png" width=384 height=384 />
<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132004.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131546.png" width=384 height=384 />
<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132027.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131607.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132045.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131632.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132101.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131757.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132115.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319131825.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132130.png" width=384 height=384 />


<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132154.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132245.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132210.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132614.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132223.png" width=384 height=384 />


<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132557.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132322.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132525.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132338.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132511.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132402.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132458.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132414.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319132441.png" width=384 height=384 />

## 题目二 ##

**直方图均衡：**把所有图像进行直方图均衡；输出均衡后的图像和源图像进行比对；分析改善内容；

1. **题目分析：**

直方图均衡化是图像处理领域中利用图像直方图对对比度进行调整的方法。对一幅图像的直方图均衡处理步骤如下：

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319161952.png" width=512 height=128 />

1. **实验结果：**

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162812.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163404.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162757.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163343.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162740.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163329.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162643.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163316.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162626.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163300.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162607.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163244.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162552.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163220.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162534.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163205.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162517.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163146.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162458.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163131.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162442.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163116.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162415.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163054.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162350.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319163032.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162323.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319162934.png" width=384 height=384 />

1. **结果分析：**

（1）对比：经过直方图处理后，经过对比可以看出，原图像比较暗的图像，变得较为明亮，；原图像过亮的图像，变得相对较为暗一些。

（2）改善内容：经过直方图处理后，原图像过亮和过暗的都变得较为均衡，图像中一些细节也可以更好的显示了出来。

## 题目三 ##

**直方图匹配：**
进一步把图像按照对源图像直方图的观察，各自自行指定不同源图像的直方图，进行直方图匹配，进行图像增强。

1. **题目分析：**直方图匹配是将图像直方图以标准图像的直方图为标准作变换,使两图像的直方图相同和近似,从而使两幅图像具有类似的色调和反差。对两幅图像进行直方图匹配的过程如下：

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319165454.png" width=512 height=256 />

本题的所有匹配模板均为源图像，即将所有图像向源图像转换。
2. **实验结果：**


其中每类图片第一张为其原图片，即为匹配模板，后面几张图片为其匹配所得结果

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171441.png" width=384 height=384 /><br/> 

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171426.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171409.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171345.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171325.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171310.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171249.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171231.png" width=384 height=384 />


<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171210.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171146.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171121.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171058.png" width=384 height=384 /><br/>

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171038.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319171015.png" width=384 height=384 />
3. **结果分析：**由于在直方图匹配中，存在四舍五入现象，所以匹配后不能完全与匹配模板相似，但却也能比较相似，如citywall系列图片，经过直方图匹配后，图片citywall1由过亮变得稍微均衡了一点；图片citywall2由过暗变得稍微均衡了一点。


## 题目四 ##

**直方图局部增强：**对elain和lena图像进行7*7的局部直方图增强。



1. **题目分析：**

直方图局部增强与直方图均衡类似，只是直方图局部增强不对整幅图像进行操作，而是对图像中的一个小邻域进行操作，即对一个个小邻域进行直方图均衡。本文采用的邻域大小为7*7。

2. **实验结果：**

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319175923.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319181618.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319181553.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319181633.png" width=384 height=384 />

3. **结果分析：**图像中出现一些色斑，其效果不如直方图均衡。

## 题目五 ##
**图像分割：**利用直方图对图像elain和woman进行分割。

1. **题目分析：**

&#8195;&#8195;本题采用最大类间方差法进行图像前景与背景的分割，此种方法是按图像的灰度特性,将图像分成背景和目标2部分。背景和目标之间的类间方差越大,说明构成图像的2部分的差别越大,当部分目标错分为背景或部分背景错分为目标都会导致2部分差别变小。因此,使类间方差最大的分割意味着错分概率最小。

&#8195;&#8195;最大类间方差方法的关键在于求取一个合适的灰度级阈值，然后遍历图片，将像素灰度值大于此灰度级的部分的灰度值设为1，否则设为0，由此便可将前景与背景分割开来。其中阈值的求取过程如下：

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319175311.png" width=512 height=300/>
2. **实验结果：**

对于图像elain得到的分割阈值为139；对于图像woman得到的分割阈值为103；
<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319175923.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319180507.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319175939.png" width=384 height=384 />

<img src="https://raw.githubusercontent.com/Winfredy/Figurebed/master/img/20190319180437.png" width=384 height=384 />

3. **结果分析：**由图可见，对于elain，采用最大类间方差方法可以把人像分割出来，但同时背景中的一个部分也分割了出来；对于图像woman，由于其背景较为简单，所以可以轻松将其人像分割出来。
